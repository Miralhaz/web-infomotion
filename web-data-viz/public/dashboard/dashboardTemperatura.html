<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Temperatura - InfoMotion</title>
  <link rel="stylesheet" href="../css/dashboardTemperatura.css">
  <link rel="icon" href="../assets/icon/Infomotion - lupa_branca.svg">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body onload="listarServidores()">
  <section class="header">
    <div class="header-left">
      <div class="parte-cima">
        <div class="icone ativo">
          <a href="perfil.html" class="descricao-icone">
            <img src="../assets/imgs-dashboard/perfil.png" alt="">
            Perfil </a>
        </div>
        <div id="usuario-header" class="icone">
          <a href="tela-usuarios.html" class="descricao-icone">
            <img src="../assets/imgs-dashboard/mdi_users.png" alt="">
            Usuários
          </a>
        </div>
        <div class="icone">
          <a href="tela-servidores.html" class="descricao-icone">
            <img src="../assets/imgs-dashboard/teenyicons_servers-solid.png" alt="">
            Servidores
          </a>
        </div>
        <div class="icone container-submenu">
          <a href="dashboardHistorico.html" class="descricao-icone">
            <img src="../assets/imgs-dashboard/fluent-mdl2_b-i-dashboard.png" alt="">
            Dashboard
            <p style="margin-left: 10px; font-size: 12px;">▶</p>
          </a>
          <div class="submenu">
            <a href="dashboardHistorico.html">Histórico</a>
            <a href="dashboardDisco.html">Disco dos Servidores</a>
            <a href="dashboardRegiao.html">Região</a>
          </div>
        </div>
      </div>

      <div class="parte-baixo">
        <div class="icone">
          <a href="https://sentinela-grupo-3.atlassian.net/servicedesk/customer/portal/35" class="descricao-icone">
            <img src="../assets/imgs-dashboard/fluent_person-suport-32-light.png" alt="">
            Suporte
          </a>
        </div>
        <div class="icone">
          <a href="../index.html" class="descricao-icone">
            <img src="../assets/imgs-dashboard/uil_exit.png" alt="">
            Sair
          </a>
        </div>
      </div>
    </div>
  </section>

  <div class="content-geral">

    <div class="div-selects">
      Nome do servidor:
      <select name="servidores" id="servidores"></select>
      Tipo de dashboard:
      <select name="dash" id="dash" class="nome_dash" onchange="trocarDePagina()">`
        <option value="#">Dashboard de Temperatura</option>
        <option value="dashboard.html">Dashboard Near-Real-Time</option>
        <option value="dashboardRede.html">Dashboard de Rede</option>
      </select>
    </div>

    <div class="dashboard-content-kpi">
      <div class="container-kpis">
        <div class="kpi1">
          <div class="titulo">
            <p> Temperatura Atual CPU: </p>
          </div>
          <div>
            <canvas style="width: fit-content; height: 160px; padding: 2vh;" id="gaugeCPUTempChart"></canvas>
          </div>
          <p id="paragrafo-parametro-cpu" style="color: white; margin-top: 3%;"> Parâmetro Atual Temp. CPU: 80°C </p>
        </div>
        <div class="kpi2">
          <div class="titulo">
            <p> Temperatura Atual Disco: </p>
          </div>
          <div>
            <canvas id="gaugeDiscoTempChart" style="width: fit-content; height: 160px; padding: 2vh;"></canvas>
          </div>
          <p id="paragrafo-parametro-disco" style="color: white; margin-top: 3%;"> Parâmetro Atual Temp. Disco: 80°C
          </p>
        </div>
        <div class="kpi3">
          <div class="titulo" style="display: flex; justify-content: center;">
            <img src="../assets/icon/info.svg" alt="Info" onclick="popUpInfo()">
            <p> Eficiência térmica entre os componentes: </p>
          </div>
          <div style="display: flex;
          justify-content: center; flex-direction: column;">
            <div class="container-eficiencia" style="margin-top: 10px;">
              <div class="container-info-componente">
                <p class="nome-componente"> CPU </p>
                <p class="info-eficiencia"> 78°C • 65% uso </p>
              </div>
              <div class="status-eficiencia">
                <p class="numero-eficiencia" style="color: #8bc34a"> 1.20 <span class="unidade-eficiencia"> °C/% </span>
                </p>
                <p class="status" style="color: #8bc34a;"> Adequado </p>
              </div>
              <div class="legenda">
                <div class="container-legenda">
                  <div class="legenda-descricao">Excelente</div>
                  <div class="legenda-valor" style="color: #4caf50;">&lt; 1.0</div>
                </div>
                <div class="container-legenda">
                  <div class="legenda-descricao">Adequado</div>
                  <div class="legenda-valor" style="color: #8bc34a;">1.0 - 1.5</div>
                </div>
                <div class="container-legenda">
                  <div class="legenda-descricao">Atenção</div>
                  <div class="legenda-valor" style="color: #ffc107;">1.5 - 2.0</div>
                </div>
                <div class="container-legenda">
                  <div class="legenda-descricao">Crítico</div>
                  <div class="legenda-valor" style="color: #f44336;">&gt; 2.0</div>
                </div>
              </div>
            </div>
            <div class="container-eficiencia">
              <div class="container-info-componente">
                <p class="nome-componente"> Disco </p>
                <p class="info-eficiencia"></p>
              </div>
              <div class="status-eficiencia">
                <p class="numero-eficiencia" style="color: #8bc34a"><span class="unidade-eficiencia"> °C </span>
                </p>
                <p class="status" style="color: #8bc34a"></p>
              </div>
              <div class="legenda">
                <div class="container-legenda">
                  <div class="legenda-descricao">Excelente</div>
                  <div class="legenda-valor" style="color: #4caf50;">&lt; 45°C</div>
                </div>
                <div class="container-legenda">
                  <div class="legenda-descricao">Adequado</div>
                  <div class="legenda-valor" style="color: #8bc34a;">45°C - 55°C</div>
                </div>
                <div class="container-legenda">
                  <div class="legenda-descricao">Atenção</div>
                  <div class="legenda-valor" style="color: #ffc107;">55°C - 65°C</div>
                </div>
                <div class="container-legenda">
                  <div class="legenda-descricao">Crítico</div>
                  <div class="legenda-valor" style="color: #f44336;">&gt; 65°C</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-graficos">
      <div class="dashboard-content-graficos-meio">
        <div class="grafico-linha-hist">
          <div class="titulo" style="display: flex; justify-content: space-between; align-items: center;">
            <p style="font-size: 16px;"> Uso CPU X Temperatura CPU (última(s) X horas): </p>

            <div style="display: flex; gap: 1vh;">

              <div class="select-grafico">
                <div class="container-select" id="select_display">
                  1 hora
                  <span class="seta"> &#9660; </span>
                </div>

                <ul class="lista-opcoes hidden" id="lista_opcoes">
                  <li data-value="1hora"> 1 hora </li>
                  <li data-value="24horas"> 24 horas</li>
                  <li data-value="dias"> 7 dias</li>
                </ul>

                <input type="hidden" id="select_value" value="1hora">
              </div>

              <div class="select-grafico">
                <div class="container-select" id="select_display_componentes">
                  CPU
                  <span class="seta"> &#9660; </span>
                </div>
                <ul class="lista-opcoes hidden" id="lista_opcoes_componentes">
                  <li data-value="cpu"> CPU </li>
                  <li data-value="disco"> Disco </li>
                </ul>
                <input type="hidden" id="select_value_componentes" value="cpu">
              </div>

            </div>

          </div>
          <div style="position: relative;">
            <canvas id="lineChart" style="width: 600px; height: 220px;"></canvas>

            <div class="info-button-container">
              <button class="info-button">?</button>
              <div class="info-tooltip" id="info_tooltip">
                <strong>Regressão Linear</strong><br>
                <span id="equacao_regressao">y = mx + b</span><br><br>
                <strong>R² (Coeficiente de Determinação)</strong><br>
                <span id="r_quadrado">R² = 0.000</span><br><br>
                <small>O R² varia de 0 a 1, indicando o quão bem a linha se ajusta aos dados.</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="dashboard-content-graficos-direita">
        <div class="grafico-dispersao-temperatura">
          <div class="titulo" style="display: flex; justify-content: space-between; align-items: center;">
            <p id="titulo-dispersao"> Dispersão da temperatura do servidor: </p>
          </div>
          <div style="width: 100%; height: 100%; padding: 10px;">
            <canvas id="histogramChart"></canvas>
          </div>
        </div>
        <div class="top-processos">
          <div class="titulo" style="display: flex; justify-content: space-between; align-items: center;">
            <p> Top 5 processos ativos (maior uso de CPU): </p>
          </div>
          <div class="processos-header">
            <span class="col-nome">Nome do Processo</span>
            <span class="col-cpu">CPU %</span>
          </div>
          <div class="processos-lista" id="processosLista">
            <div class="processo-item" style="justify-content: center; color: #999;">
              <span>Selecione um servidor</span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="../js/dashboard-temperatura.js"></script>

</html>