<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciamento de Servidores - InfoMotion</title>
    <link rel="stylesheet" href="../css/dashboards.css">
    <link rel="icon" href="../assets/icon/Infomotion - lupa_branca.svg">
</head>
<style>
    body {
        display: flex;
        min-height: 100vh;
        margin: 0;
        overflow: hidden;
    }

    .header {
        width: 250px;
    }

    .container {
        flex-grow: 1;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: flex-start;
    }
</style>

<body>
    <section class="header">
        <div class="header-left">
            <div class="parte-cima">
                <div class="icone">
                    <a href="perfil.html" class="descricao-icone">
                        <img src="../assets/imgs-dashboard/perfil.png" alt="">
                        Perfil </a>
                </div>
                <div id="usuario-header" class="icone">
                    <a href="tela-usuarios.html" class="descricao-icone">
                        <img src="../assets/imgs-dashboard/mdi_users.png" alt="">
                        Usuários </a>
                </div>
                <div class="icone">
                    <a href="tela-servidores.html" class="descricao-icone">
                        <img src="../assets/imgs-dashboard/teenyicons_servers-solid.png" alt="">
                        Servidores </a>
                </div>
                 <div class="icone container-submenu">
                    <a href="dashboardHistorico.html" class="descricao-icone">
                        <img src="../assets/imgs-dashboard/fluent-mdl2_b-i-dashboard.png" alt="">
                        Dashboard
                        <p style="margin-left: 10px; font-size: 12px;">▶</p>
                    </a>
                    <div class="submenu">
                        <a href="dashboardHistorico.html">Histórico</a>
                        <a href="dashboardDisco.html">Disco dos Servidores</a>
                    </div>
                </div>
                <div class="icone">
                    <a href="dashboardRegiao.html" class="descricao-icone">
                        <img src="../assets/imgs-dashboard/regiao-icon.png" alt="">
                        Regiões </a>
                </div>
            </div>
            <div class="parte-baixo">
                <div class="icone">
                    <a href="https://sentinela-grupo-3.atlassian.net/servicedesk/customer/portal/35"
                        class="descricao-icone">
                        <img src="../assets/imgs-dashboard/fluent_person-suport-32-light.png" alt="">
                        Suporte </a>
                </div>
                <div class="icone">
                    <a href="../index.html" class="descricao-icone">
                        <img src="../assets/imgs-dashboard/uil_exit.png" alt="">
                        Sair </a>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <div class="container-content GSV">
            <div class="Identificador">
                <div class="nome" id="nome">Nome Servidor</div>
                <div class="IP" id="IP">Identificador</div>
                <div class="codigo" id="codigo">CEP:</div>
                <div class="pais" id="pais">País:</div>
                <div class="cidade" id="cidade">Cidade:</div>
                <div class="icons">
                    <a onclick="chamarModal()">
                        <img src="../assets/icon/lixo-amarelo.svg" alt="Deletar" class="imgGSV">
                    </a>
                    
                    <a onclick="abrirEscolhaEdicao()">
                        <img src="../assets/icon/editar-amarelo.svg" alt="Editar" class="imgGSV">
                    </a>
                    
                </div>
            </div>

            <div class="secao-pesquisa">
                <input type="text" class="pesquisa-componente" id="pesquisa-componente" placeholder="Pesquisar"
                    maxlength="45">
                <div class="icons-filtro-wrapper">
                    <div class="icons">
                        <img src="../assets/icon/Lupa.svg" alt="pesquisar">
                        <img src="../assets/icon/filtro.svg" alt="filtrar" class="filtrar" onclick="acionarFiltro()">
                    </div>
                    <div class="wrapperMenu" id="wrapperMenu">
                        <div class="opcoesMenu" id="opcoesMenu">
                            <button onclick="selecionar('CPU')">CPU ↓</button>
                            <button onclick="selecionar('RAM')">RAM ↓</button>
                            <button onclick="selecionar('DISCO')">DISCO ↓</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="listaComponentes" id="listaComponentes">
            </div>


        </div>
    </div>

    <div class="container-modal">
            <div class="card-modal">
                <h1>EXCLUIR SERVIDOR</h1>
                <p>Deseja excluir um servidor? Tenha em mente que será excluido para sempre, e não poderá ser
                    restaurado!
                </p>
                <p>Digite "excluir" para excluir o servidor</p>
                <input type="text" id="ipt_excluir" placeholder="excluir">
                <div id="btn_excluir">

                </div>
            </div>
        </div>

        <div class="container-modal" id="modal-editar">
    <div class="card-modal">
        <h1>EDITAR APELIDO</h1>
        <p>Digite o novo apelido para o servidor:</p>
        <input type="text" id="novo_apelido" placeholder="Novo apelido">
        <div id="mensagem-modal"></div>
        <div>
            <button class="btn-add" onclick="salvarNovoApelido()">Salvar</button>
            <button class="btn-add" onclick="fecharModalEditar()">Voltar</button>
        </div>
    </div>
</div>

<div class="container-modal" id="modal-escolha">
    <div class="card-modal">
        <h1>O QUE DESEJA EDITAR?</h1>
        <p>Escolha uma das opções abaixo:</p>

        <div style="display: flex; gap: 15px; margin-top: 20px;">
            <button class="btn-add" onclick="abrirEditarApelido()">Editar Nome</button>
            <button class="btn-add" onclick="abrirEditarRegiao()">Editar Região</button>
        </div>

        <button class="btn-add" style="margin-top: 20px;" onclick="fecharModalEscolha()">Voltar</button>
    </div>
</div>

<div class="container-modal" id="modal-editar-regiao">
    <div class="card-modal">
        <h1>EDITAR REGIÃO DO SERVIDOR</h1>
        <p>Escolha uma nova região cadastrada:</p>

        <select id="select_regiao" style="width: 100%; padding: 10px; margin: 10px 0;">
            <option value="">Carregando regiões...</option>
        </select>

        <div id="mensagem-regiao"></div>

        <div style="margin-top: 20px;">
            <button class="btn-add" onclick="salvarNovaRegiaoSelecionada()">Salvar</button>
            <button class="btn-add" onclick="fecharModalEditarRegiao()">Voltar</button>
        </div>
    </div>
</div>



</body>
<script src="../js/componentes-page.js"></script>
<script>

    function preencherIdentificadorServidor() {
        const apelidoServidor = sessionStorage.getItem('servidorApelido');
        const ipServidor = sessionStorage.getItem('servidorIP');

        const divNome = document.getElementById('nome');
        const divIP = document.getElementById('IP');

        if (divNome && apelidoServidor) {
            divNome.textContent = apelidoServidor;
        }

        if (divIP && ipServidor) {
            divIP.textContent = `IP: ${ipServidor}`;
        }
    }

    window.addEventListener('load', preencherIdentificadorServidor);
</script>

</html>